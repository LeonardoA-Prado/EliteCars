{{ form_start(form, {'attr': {'enctype': 'multipart/form-data'}}) }}

  <div class="form-group">
      {{ form_label(form.images) }}
      {{ form_widget(form.images, {'attr': {'onchange': 'previewImages(event)', 'accept': 'image/*'}}) }}
      {{ form_errors(form.images) }}

      <div id="image-preview" class="mt-3 d-flex flex-wrap gap-3"></div>
  </div>
  {{ form_row(form.marca) }}
  {{ form_row(form.modelo) }}
  {{ form_row(form.version) }}
  {{ form_row(form.precio) }}
  {{ form_row(form.kilometros) }}
  {{ form_row(form.ciudad) }}
  {{ form_row(form.carroceria) }}
  {{ form_row(form.color) }}
  {{ form_row(form.cambio) }}
  {{ form_row(form.combustible) }}
  {{ form_row(form.traccion) }}
  {{ form_row(form.potencia) }}
  {{ form_row(form.cilindrada) }}

  <button class="btn btn-primary mt-3">{{ button_label|default('Guardar') }}</button>

{{ form_end(form) }}

<script>
  function previewImages(event) {
    const previewContainer = document.getElementById('image-preview');
    previewContainer.innerHTML = ''; // Limpiar previews anteriores

    const files = event.target.files;
    if (!files.length) return;

    Array.from(files).forEach(file => {
      const reader = new FileReader();
      reader.onload = function(e) {
        const img = document.createElement('img');
        img.src = e.target.result;
        img.alt = 'Vista previa';
        img.classList.add('rounded', 'shadow');
        img.style.height = '150px';
        img.style.marginRight = '10px';
        previewContainer.appendChild(img);
      };
      reader.readAsDataURL(file);
    });
  }
</script>
